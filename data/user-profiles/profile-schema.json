{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "User Learning Profile",
  "description": "Schema for user learning pattern assessment profiles",
  "type": "object",
  "required": ["userId", "profile", "assessmentHistory", "latestResults"],
  "properties": {
    "userId": {
      "type": "string",
      "description": "Unique identifier for the user"
    },
    "profile": {
      "type": "object",
      "required": ["dateCreated"],
      "properties": {
        "name": {
          "type": "string",
          "description": "User's display name"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "User's email address"
        },
        "dateCreated": {
          "type": "string",
          "format": "date-time",
          "description": "Profile creation timestamp"
        },
        "lastUpdated": {
          "type": "string", 
          "format": "date-time",
          "description": "Last profile update timestamp"
        }
      }
    },
    "assessmentHistory": {
      "type": "array",
      "description": "History of all assessments taken",
      "items": {
        "type": "object",
        "required": ["assessmentId", "timestamp", "dominantPattern"],
        "properties": {
          "assessmentId": {
            "type": "string",
            "description": "Unique assessment identifier"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Assessment completion time"
          },
          "dominantPattern": {
            "type": "string",
            "enum": ["visual", "auditory", "kinesthetic", "social"],
            "description": "Primary learning pattern identified"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "Confidence score for the assessment"
          }
        }
      }
    },
    "latestResults": {
      "type": "object",
      "description": "Most recent assessment results",
      "patternProperties": {
        "^(visual|auditory|kinesthetic|social)$": {
          "type": "object",
          "required": ["score", "strength", "description"],
          "properties": {
            "score": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Pattern score percentage"
            },
            "strength": {
              "type": "string",
              "enum": ["Minimal", "Mild", "Moderate", "Strong", "Very Strong"],
              "description": "Strength level of the pattern"
            },
            "confidence": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Confidence in this pattern score"
            },
            "description": {
              "type": "string",
              "description": "Description of the learning pattern"
            }
          }
        }
      }
    },
    "dominantPattern": {
      "type": "string",
      "enum": ["visual", "auditory", "kinesthetic", "social"],
      "description": "Primary learning pattern"
    },
    "secondaryPattern": {
      "type": "string",
      "enum": ["visual", "auditory", "kinesthetic", "social"],
      "description": "Secondary learning pattern"
    },
    "learningProfile": {
      "type": "object",
      "description": "Comprehensive learning profile analysis",
      "properties": {
        "type": {
          "type": "string",
          "description": "Learning profile type classification"
        },
        "description": {
          "type": "string",
          "description": "Detailed profile description"
        },
        "efficiency": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Learning efficiency score"
        },
        "adaptability": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Learning adaptability score"
        }
      }
    },
    "preferences": {
      "type": "object",
      "description": "User learning preferences",
      "properties": {
        "studyEnvironment": {
          "type": "string",
          "enum": ["quiet_organized", "background_music", "collaborative", "varied"],
          "description": "Preferred study environment"
        },
        "preferredStudyTime": {
          "type": "string",
          "enum": ["morning", "afternoon", "evening", "late_night", "flexible"],
          "description": "Optimal study time"
        },
        "sessionDuration": {
          "type": "number",
          "minimum": 10,
          "maximum": 180,
          "description": "Preferred study session length in minutes"
        },
        "breakFrequency": {
          "type": "number",
          "minimum": 5,
          "maximum": 60,
          "description": "Preferred break frequency in minutes"
        }
      }
    },
    "goals": {
      "type": "array",
      "description": "User learning goals",
      "items": {
        "type": "object",
        "required": ["id", "title", "status", "created"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Goal unique identifier"
          },
          "title": {
            "type": "string",
            "description": "Goal title"
          },
          "description": {
            "type": "string",
            "description": "Goal description"
          },
          "status": {
            "type": "string",
            "enum": ["not_started", "in_progress", "completed", "paused"],
            "description": "Goal status"
          },
          "created": {
            "type": "string",
            "format": "date-time",
            "description": "Goal creation timestamp"
          },
          "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "Goal due date"
          }
        }
      }
    },
    "assessmentCount": {
      "type": "number",
      "minimum": 0,
      "description": "Total number of assessments completed"
    },
    "lastAssessment": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp of last assessment"
    },
    "statistics": {
      "type": "object",
      "description": "Learning statistics and analytics",
      "properties": {
        "totalStudyHours": {
          "type": "number",
          "minimum": 0,
          "description": "Total recorded study hours"
        },
        "averageSessionLength": {
          "type": "number",
          "minimum": 0,
          "description": "Average study session length in minutes"
        },
        "preferredLearningMethods": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of preferred learning methods"
        },
        "improvementAreas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Areas identified for improvement"
        },
        "successMetrics": {
          "type": "object",
          "description": "Success metrics and performance indicators"
        }
      }
    }
  }
}